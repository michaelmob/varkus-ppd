{% extends 'cp.html' %}
{% load static %}
{% load currency %}

{% block title %}File Locker{% endblock %}

{% block tab %}files{% endblock %}

{% block content %}
<div class="wrapper">
	<div class="ui grid stackable">
		<div class="ten wide column">
			<div class="ui segment box">
				<div class="title">
					<i class="file layout icon"></i>
					Files
				</div>
				<div class="content">
					{% include 'cp/paginate.html' with items=files uri='files-page' %}

					<table class="ui table">
						<thead>
							<tr>
								<th>Name</th>
								<th>Leads</th>
								<th>Month</th>
								<th>Total</th>
								<th>Date</th>
							</tr>
						</thead>

						<tbody>
							{% if files|length < 1 %}
								<td colspan="5">You have not uploaded any files, yet.</td></tr>
							{% else %}
								{% for file in files %}
									<tr>
										<td><a href="{% url 'files-manage' file.code %}">{{ file.name }}</a></td>
										<td>{{ file.earnings.leads|default:'0' }}</td>
										<td>${{ file.earnings.month|currency }}</td>
										<td>${{ file.earnings.total|currency }}</td>
										<td>{{ file.date_time }}</td>
									</tr>
								{% endfor %}
							{% endif %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div class="six wide column">
			<div class="ui segment box">
				<div class="title">
					<i class="add square icon"></i>
					Upload
				</div>
				<div class="padded content">

					<a href="{% url 'files-upload' %}" class="ui left labeled icon fluid basic create button{% if files|length >= MAX_FILES %} disabled{% endif %}">
						<i class="upload icon"></i>
						Upload File
					</a>

					<br/>

					<p>You have uploaded {{ files|length }} file(s) out of your maximum file limit of {{ MAX_FILES }}.</p>

					<div class="ui header">File Lockers</div>
					<p>
						The file locker is a locker created specifically for the purpose of locking important files
						that you would otherwise not want to share without any sort of compensation.
						You can use the various options to customize how the user obtains
						your file.
					</p>

					<p>
						Common usage for this locker would be to upload custom applications,
						private files worth something, or your band's music.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
